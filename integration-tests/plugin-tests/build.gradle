plugins {
    id 'org.jetbrains.kotlin.jvm'
}

dependencies {
    testImplementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
    testImplementation "com.fasterxml.jackson.dataformat:jackson-dataformat-xml:$jackson_version"
    testImplementation "org.junit.jupiter:junit-jupiter:$junit_jupiter_version"
    testImplementation "org.junit-pioneer:junit-pioneer:$junit_pioneer_version"
    testImplementation "org.assertj:assertj-core:$assertj_version"
    testImplementation gradleTestKit()
    testRuntimeOnly "org.slf4j:slf4j-simple:$slf4j_version"
}

test {
    doFirst {
        systemProperty "enclaveMode", enclaveMode
        // Tell the tests where Gradle's current module cache is.
        // We need the tests to share this module cache to prevent the
        // Gradle Test-Kit from downloading its own copy of Kotlin etc.
        systemProperty "test.gradle.user.home", project.gradle.gradleUserHomeDir
        systemProperty "gradle.version", project.gradle.gradleVersion
    }
}
