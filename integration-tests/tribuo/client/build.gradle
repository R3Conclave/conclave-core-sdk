plugins {
    id 'org.jetbrains.kotlin.jvm'
    id 'org.jetbrains.kotlin.plugin.serialization'
}

dependencies {
    implementation project(":tribuo:common")
    implementation "org.jetbrains.kotlinx:kotlinx-serialization-json:$kotlinx_serialization_json_version"
    implementation "com.r3.conclave:conclave-client:$conclave_version"

    testImplementation project(":general:common-test")
    testImplementation "org.junit.jupiter:junit-jupiter:$junit_jupiter_version"
    testImplementation "org.assertj:assertj-core:$assertj_version"

    testRuntimeOnly project(path: ":tribuo:enclave", configuration: enclaveMode)
    testRuntimeOnly "org.slf4j:slf4j-simple:$slf4j_version"
}

test {
    maxHeapSize "4g"
    systemProperty 'enclaveMode', enclaveMode
    systemProperty 'dataDir', projectDir.toPath().resolve("data").toAbsolutePath().toString()
}
